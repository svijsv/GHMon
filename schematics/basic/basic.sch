EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Device:Battery BT1
U 1 1 60445EF8
P 4550 5350
F 0 "BT1" V 4795 5350 50  0000 C CNN
F 1 "Battery" V 4704 5350 50  0000 C CNN
F 2 "" V 4550 5410 50  0001 C CNN
F 3 "~" V 4550 5410 50  0001 C CNN
	1    4550 5350
	0    -1   -1   0   
$EndComp
$Comp
L power:GND #PWR06
U 1 1 6044996B
P 4750 5350
F 0 "#PWR06" H 4750 5100 50  0001 C CNN
F 1 "GND" V 4755 5222 50  0000 R CNN
F 2 "" H 4750 5350 50  0001 C CNN
F 3 "" H 4750 5350 50  0001 C CNN
	1    4750 5350
	0    -1   -1   0   
$EndComp
$Comp
L power:GND #PWR07
U 1 1 60449E7F
P 4850 4600
F 0 "#PWR07" H 4850 4350 50  0001 C CNN
F 1 "GND" H 4855 4427 50  0000 C CNN
F 2 "" H 4850 4600 50  0001 C CNN
F 3 "" H 4850 4600 50  0001 C CNN
	1    4850 4600
	0    1    1    0   
$EndComp
Text GLabel 6050 3200 2    50   Input ~ 0
SENS_PWR
Text GLabel 4350 5350 0    50   Input ~ 0
BAT+
Text GLabel 6050 4200 2    50   Input ~ 0
SENS_WATER
Text GLabel 6050 4300 2    50   Input ~ 0
SENS_TEMP
Text GLabel 4850 3300 0    50   Input ~ 0
SERIAL_TX
Text GLabel 4850 3400 0    50   Input ~ 0
SERIAL_RX
Text Notes 3700 3400 0    50   ~ 0
TX to adapter RX\nRX to adapter TX
Text GLabel 4850 3800 0    50   Input ~ 0
LED_CTRL
Text GLabel 4850 3900 0    50   Input ~ 0
BUTTON
Text GLabel 4850 4400 0    50   Input ~ 0
FAN_CTRL
Text GLabel 4850 4300 0    50   Input ~ 0
WATER_CTRL
Text GLabel 4850 4700 0    50   Input ~ 0
3v3
$Comp
L Device:LED D1
U 1 1 6045F698
P 2850 3150
F 0 "D1" H 2843 3367 50  0000 C CNN
F 1 "LED" H 2843 3276 50  0000 C CNN
F 2 "" H 2850 3150 50  0001 C CNN
F 3 "~" H 2850 3150 50  0001 C CNN
	1    2850 3150
	1    0    0    -1  
$EndComp
Text GLabel 3000 3150 2    50   Input ~ 0
LED_CTRL
$Comp
L power:GND #PWR03
U 1 1 60460246
P 2400 3150
F 0 "#PWR03" H 2400 2900 50  0001 C CNN
F 1 "GND" V 2405 3022 50  0000 R CNN
F 2 "" H 2400 3150 50  0001 C CNN
F 3 "" H 2400 3150 50  0001 C CNN
	1    2400 3150
	0    1    1    0   
$EndComp
$Comp
L Device:R R1
U 1 1 60460AE0
P 2550 3150
F 0 "R1" V 2343 3150 50  0000 C CNN
F 1 "1K" V 2434 3150 50  0000 C CNN
F 2 "" V 2480 3150 50  0001 C CNN
F 3 "~" H 2550 3150 50  0001 C CNN
	1    2550 3150
	0    1    1    0   
$EndComp
$Comp
L Switch:SW_Push SW1
U 1 1 604623D4
P 2850 3650
F 0 "SW1" H 2850 3935 50  0000 C CNN
F 1 "SW_Push" H 2850 3844 50  0000 C CNN
F 2 "" H 2850 3850 50  0001 C CNN
F 3 "~" H 2850 3850 50  0001 C CNN
	1    2850 3650
	1    0    0    -1  
$EndComp
Text GLabel 3050 3650 2    50   Input ~ 0
BUTTON
Text GLabel 2350 3650 0    50   Input ~ 0
3v3
$Comp
L Device:R R2
U 1 1 604630E5
P 2500 3650
F 0 "R2" V 2293 3650 50  0000 C CNN
F 1 "1K" V 2384 3650 50  0000 C CNN
F 2 "" V 2430 3650 50  0001 C CNN
F 3 "~" H 2500 3650 50  0001 C CNN
	1    2500 3650
	0    1    1    0   
$EndComp
$Comp
L Relay:G5Q-1A K1
U 1 1 60465062
P 2250 4900
F 0 "K1" H 2580 4946 50  0000 L CNN
F 1 "G5Q-1A" H 2580 4855 50  0000 L CNN
F 2 "Relay_THT:Relay_SPST_Omron-G5Q-1A" H 2600 4850 50  0001 L CNN
F 3 "https://www.omron.com/ecb/products/pdf/en-g5q.pdf" H 2250 4900 50  0001 C CNN
	1    2250 4900
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR01
U 1 1 6046613E
P 2050 4600
F 0 "#PWR01" H 2050 4350 50  0001 C CNN
F 1 "GND" H 2055 4427 50  0000 C CNN
F 2 "" H 2050 4600 50  0001 C CNN
F 3 "" H 2050 4600 50  0001 C CNN
	1    2050 4600
	-1   0    0    1   
$EndComp
Text GLabel 2050 5200 3    50   Input ~ 0
WaterPump
$Comp
L Device:Q_NPN_CBE Q1
U 1 1 60468049
P 2550 4400
F 0 "Q1" H 2741 4354 50  0000 L CNN
F 1 "Q_NPN_CBE" H 2100 4550 50  0000 L CNN
F 2 "" H 2750 4500 50  0001 C CNN
F 3 "~" H 2550 4400 50  0001 C CNN
	1    2550 4400
	-1   0    0    1   
$EndComp
Text GLabel 3050 4400 2    50   Input ~ 0
WATER_CTRL
$Comp
L power:GND #PWR04
U 1 1 6046ABCD
P 2450 4200
F 0 "#PWR04" H 2450 3950 50  0001 C CNN
F 1 "GND" H 2455 4027 50  0000 C CNN
F 2 "" H 2450 4200 50  0001 C CNN
F 3 "" H 2450 4200 50  0001 C CNN
	1    2450 4200
	-1   0    0    1   
$EndComp
Text GLabel 2450 5200 3    50   Input ~ 0
BAT+
$Comp
L Relay:G5Q-1A K2
U 1 1 6046EE8F
P 2250 6450
F 0 "K2" H 2580 6496 50  0000 L CNN
F 1 "G5Q-1A" H 2580 6405 50  0000 L CNN
F 2 "Relay_THT:Relay_SPST_Omron-G5Q-1A" H 2600 6400 50  0001 L CNN
F 3 "https://www.omron.com/ecb/products/pdf/en-g5q.pdf" H 2250 6450 50  0001 C CNN
	1    2250 6450
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR02
U 1 1 6046EE95
P 2050 6150
F 0 "#PWR02" H 2050 5900 50  0001 C CNN
F 1 "GND" H 2055 5977 50  0000 C CNN
F 2 "" H 2050 6150 50  0001 C CNN
F 3 "" H 2050 6150 50  0001 C CNN
	1    2050 6150
	-1   0    0    1   
$EndComp
Text GLabel 2050 6750 3    50   Input ~ 0
Fan
$Comp
L Device:Q_NPN_CBE Q2
U 1 1 6046EE9C
P 2550 5950
F 0 "Q2" H 2741 5904 50  0000 L CNN
F 1 "Q_NPN_CBE" H 2100 6100 50  0000 L CNN
F 2 "" H 2750 6050 50  0001 C CNN
F 3 "~" H 2550 5950 50  0001 C CNN
	1    2550 5950
	-1   0    0    1   
$EndComp
Text GLabel 3050 5950 2    50   Input ~ 0
FAN_CTRL
$Comp
L power:GND #PWR05
U 1 1 6046EEA3
P 2450 5750
F 0 "#PWR05" H 2450 5500 50  0001 C CNN
F 1 "GND" H 2455 5577 50  0000 C CNN
F 2 "" H 2450 5750 50  0001 C CNN
F 3 "" H 2450 5750 50  0001 C CNN
	1    2450 5750
	-1   0    0    1   
$EndComp
Text GLabel 2450 6750 3    50   Input ~ 0
BAT+
$Comp
L Device:R R4
U 1 1 6047CDB4
P 2900 5950
F 0 "R4" V 2693 5950 50  0000 C CNN
F 1 "1K" V 2784 5950 50  0000 C CNN
F 2 "" V 2830 5950 50  0001 C CNN
F 3 "~" H 2900 5950 50  0001 C CNN
	1    2900 5950
	0    1    1    0   
$EndComp
$Comp
L Device:R R3
U 1 1 6047D832
P 2900 4400
F 0 "R3" V 2693 4400 50  0000 C CNN
F 1 "1K" V 2784 4400 50  0000 C CNN
F 2 "" V 2830 4400 50  0001 C CNN
F 3 "~" H 2900 4400 50  0001 C CNN
	1    2900 4400
	0    1    1    0   
$EndComp
Text GLabel 7400 4750 0    50   Input ~ 0
SENS_TEMP
$Comp
L Device:Thermistor TH1
U 1 1 60484B2D
P 7400 4950
F 0 "TH1" H 7505 4996 50  0000 L CNN
F 1 "Thermistor" H 7505 4905 50  0000 L CNN
F 2 "" H 7400 4950 50  0001 C CNN
F 3 "~" H 7400 4950 50  0001 C CNN
	1    7400 4950
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR09
U 1 1 60484B33
P 7400 5150
F 0 "#PWR09" H 7400 4900 50  0001 C CNN
F 1 "GND" H 7405 4977 50  0000 C CNN
F 2 "" H 7400 5150 50  0001 C CNN
F 3 "" H 7400 5150 50  0001 C CNN
	1    7400 5150
	1    0    0    -1  
$EndComp
Text GLabel 7700 4750 2    50   Input ~ 0
SENS_PWR
$Comp
L Device:R R6
U 1 1 60484B3A
P 7550 4750
F 0 "R6" V 7343 4750 50  0000 C CNN
F 1 "[Match to TH1]" V 7434 4750 50  0000 C CNN
F 2 "" V 7480 4750 50  0001 C CNN
F 3 "~" H 7550 4750 50  0001 C CNN
	1    7550 4750
	0    1    1    0   
$EndComp
$Comp
L Device:R_Variable HM1
U 1 1 60487425
P 7400 3950
F 0 "HM1" H 7528 3996 50  0000 L CNN
F 1 "Soil Hygrometer" H 7528 3905 50  0000 L CNN
F 2 "" V 7330 3950 50  0001 C CNN
F 3 "~" H 7400 3950 50  0001 C CNN
	1    7400 3950
	1    0    0    -1  
$EndComp
Text GLabel 7400 3800 0    50   Input ~ 0
SENS_WATER
$Comp
L power:GND #PWR08
U 1 1 60488711
P 7400 4100
F 0 "#PWR08" H 7400 3850 50  0001 C CNN
F 1 "GND" H 7405 3927 50  0000 C CNN
F 2 "" H 7400 4100 50  0001 C CNN
F 3 "" H 7400 4100 50  0001 C CNN
	1    7400 4100
	1    0    0    -1  
$EndComp
Text GLabel 7700 3800 2    50   Input ~ 0
SENS_PWR
$Comp
L Device:R R5
U 1 1 60488718
P 7550 3800
F 0 "R5" V 7343 3800 50  0000 C CNN
F 1 "[Match to HM1]" V 7434 3800 50  0000 C CNN
F 2 "" V 7480 3800 50  0001 C CNN
F 3 "~" H 7550 3800 50  0001 C CNN
	1    7550 3800
	0    1    1    0   
$EndComp
Text Notes 4700 5650 0    50   ~ 0
BT1 should be 4-6V\nand can be any DC\npower source
$Comp
L STM32:bluepill-STM32F103C8 U1
U 1 1 6044A237
P 5550 3700
F 0 "U1" H 5450 4865 50  0000 C CNN
F 1 "bluepill-STM32F103C8" H 5450 4774 50  0000 C CNN
F 2 "" H 5550 3700 50  0001 C CNN
F 3 "" H 5550 3700 50  0001 C CNN
	1    5550 3700
	1    0    0    -1  
$EndComp
Wire Wire Line
	4350 5350 4350 4500
Wire Wire Line
	4350 4500 4850 4500
Text Notes 2650 5650 0    50   ~ 0
Q1 and Q2 should\nbe sized to the\ncurrent need of their\nrespective relays
$EndSCHEMATC
